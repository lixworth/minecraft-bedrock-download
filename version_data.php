<?php
/**
 * version_data
 *
 * @author lixworth <lixworth@outlook.com>
 * @create 2021/6/11 20:21
 */
declare(strict_types=1);

class RunTime
{
    public static string $t;

    public static function start()
    {
        self::$t = microtime();
    }

    public static function end(): string
    {
        $t1 = microtime();
        list($m0, $s0) = explode(" ", self::$t);
        list($m1, $s1) = explode(" ", $t1);
        return sprintf("%.3f ms", ($s1 + $m1 - $s0 - $m0) * 1000);
    }
}

Runtime::start();
//form https://github.com/GodLeaveMe/Minecraft.Win10_Launcher
$be_versions = [
    ["0.13.0.0", "985D1EE4-0E9D-49DE-9A99-E208ADC08D0C", 0],
    ["0.13.1.0", "4B64779C-D1CD-4659-B1C5-03C858232579", 0],
    ["0.13.2.0", "B114152D-E4A6-4A35-8C18-EC079EB4A17F", 0],
    ["0.14.0.1", "B17C2923-587A-442B-9BC6-76A13C02978C", 0],
    ["0.14.2.1", "A4A7A7D3-9739-43A1-8668-1556DDDB4CD4", 0],
    ["0.15.0.0", "28354370-EB00-498C-B6CB-1B2DBBDD8042", 0],
    ["0.15.4.1", "EC51A839-B3EE-44E6-BB8F-C75154547E66", 0],
    ["0.15.6.0", "8FC80FC6-192C-4C50-8533-C5B49A5D3901", 0],
    ["0.15.7.1", "7EBC0F58-4AF1-4893-9465-FCBF57FDDE99", 0],
    ["0.15.8.0", "367BE4B5-A71C-4D36-BC46-D11468777F7F", 0],
    ["0.15.9.0", "7E035D83-C675-4248-BED1-2087F739356E", 0],
    ["0.15.10.0", "C2FC6B6E-7548-4FDA-8936-C105C740B1E7", 0],
    ["0.16.0.5", "88FCAC52-F717-442E-A667-2B1943F7DAD3", 0],
    ["0.16.1.0", "786FA001-04F9-42DE-A556-E98AF3684525", 0],
    ["1.0.0.16", "4234690B-30B9-46A4-A5F9-811953A151D5", 0],
    ["1.1.5.0", "60C20FD7-B456-4FF6-AD66-7E7AB62527BA", 0],
    ["1.2.2.3", "2A36511E-3221-41D1-8BE4-8D49E05CB669", 0],
    ["1.2.3.3", "6402FC0E-F392-488C-9557-35C1BB8FD4A4", 1],
    ["1.2.3.6", "57586DDC-3E4D-43BC-8DF2-7DC7F5EAAA57", 0],
    ["1.2.5.13", "53F27416-ED1B-4372-B7DB-556E4472513C", 1],
    ["1.2.8.0", "A2612767-B607-49E0-9145-6BD4AEC49FE7", 0],
    ["1.2.10.2", "825166E1-197B-4845-ADE7-D12A1B8A18D0", 0],
    ["1.4.2.0", "E361D881-AED0-44E3-9D13-D4AA943F6463", 0],
    ["1.5.0.0", "6C0C633F-C6D1-4DE7-8AA0-4A66866996C8", 1],
    ["1.5.0.14", "9BC7BE70-4F65-44A5-A83D-B60CEE491A6D", 0],
    ["1.5.2.1", "F5C3D6B3-AE74-47CA-9579-5C324B0BAD17", 0],
    ["1.5.3.0", "39EA04C0-CAB0-4859-A2BC-BFEBB18E68F4", 0],
    ["1.6.0.14", "5808C125-7001-47EF-871D-A38B20FE8D79", 0],
    ["1.6.1.0", "3AFBABDD-876F-4C5F-8054-90210EC05AF8", 0],
    ["1.7.0.13", "E88DE30C-8981-4D92-8141-435689A237F4", 0],
    ["1.7.1.0", "AC26D7E8-AEEB-43CA-9F09-01E082EF2D2D", 0],
    ["1.8.0.24", "659F8B59-3FC7-4242-A06E-DA1AB4BDE3C4", 0],
    ["1.8.1.2", "3276661D-8B7A-4A30-A325-AE05A6B9CBB1", 0],
    ["1.9.0.15", "DDB8196F-A608-4436-B3BD-CC60D5A9D1AD", 0],
    ["1.10.0.4", "F2E656DD-86F2-42BE-A157-253A2782B462", 1],
    ["1.10.0.7", "cf55c488-6839-4888-b892-562f92bb3dce", 0],
    ["1.10.1.1", "47f37eee-fa8e-442c-8edd-e9f28a2497cf", 0],
    ["1.11.0.1", "667B6F0B-5747-416C-A60B-82ABD49AA58D", 1],
    ["1.11.0.3", "a4020779-d76d-4a41-a308-20822644265e", 1],
    ["1.11.0.4", "f12dc2c0-344d-4c1a-af4a-c484f662b890", 1],
    ["1.11.0.5", "f310e0c3-1c19-4725-99c0-f1949f0791b3", 1],
    ["1.11.0.7", "a7a465c1-84ee-4d44-9276-d61135b8ca7b", 1],
    ["1.11.0.8", "c3e74ea2-6b65-42fd-a291-4e6d6853b11f", 1],
    ["1.11.0.9", "dd82b611-3799-48d6-ab97-c146f28e39bb", 1],
    ["1.11.0.10", "55e4a122-6229-40e9-97d0-168b824c23df", 1],
    ["1.11.0.23", "0a6af6d0-3ef4-47bd-b105-07b91a1d23ee", 0],
    ["1.11.1.2", "ce39153e-e937-454a-9fb0-70b35c723062", 0],
    ["1.11.3.1", "c1f34823-2e07-4af0-940a-184cfffd076e", 0],
    ["1.11.4.2", "fc1de9e4-cf9f-47c3-8654-2835ec993964", 0],
    ["1.12.0.2", "625de0c6-bb52-41fa-8adf-2f21c6cf5b8a", 1],
    ["1.12.0.3", "44b546b7-70a6-4384-b4c6-1cdc3a320060", 1],
    ["1.12.0.4", "f2e9f47c-b633-40b8-80d4-899dd3ec3ef8", 1],
    ["1.12.0.6", "a41272a8-140e-4f4b-a4fb-7c48cd2f8827", 1],
    ["1.12.0.9", "865de55b-cd3f-472e-808b-1a6f0aece65f", 1],
    ["1.12.0.10", "9d9e9a1b-da15-42e1-977b-e44ab504be8c", 1],
    ["1.12.0.11", "e1c2796d-a8f5-4762-be14-9d75ef1c4e87", 1],
    ["1.12.0.12", "2ebd91f9-099a-414b-a56a-c2c61e48dc3f", 1],
    ["1.12.0.13", "227f8ad1-b12f-479c-b296-9cb634209738", 1],
    ["1.12.0.14", "8ae06369-e856-4f4a-a37a-edb2d1c7e095", 1],
    ["1.12.0.28", "dd4e7be3-57f9-47fe-aeea-8caab07e6469", 0],
    ["1.12.1.1", "afa14647-f21b-4191-aa98-b88f164c5201", 0],
    ["1.13.0.1", "5a588f69-e65d-4651-aaa9-b015ded8d019", 1],
    ["1.13.0.2", "61a56d78-eb35-436b-a185-36bf2bec7aef", 1],
    ["1.13.0.4", "e5cd10aa-e542-46d2-91f5-4bd20205ee19", 1],
    ["1.13.0.5", "edc9edea-537b-4f80-b6cf-589eebbe1349", 1],
    ["1.13.0.6", "c2aa0020-9b46-4a28-9de3-8085d980f5ed", 1],
    ["1.13.0.9", "c930805d-d9b2-4e91-8f25-74d405d817fb", 1],
    ["1.13.0.13", "37e9eb3a-8bd7-4d2a-8409-04489e252ec1", 1],
    ["1.13.0.15", "79f703ec-d35c-49a0-9da2-167d3c314e4f", 1],
    ["1.13.0.34", "29de2df8-a8fd-43c7-9594-09fd8c9ae8a1", 0],
    ["1.13.1.5", "01fb9b77-507d-420d-8116-0a1042c1e680", 0],
    ["1.14.0.1", "9fbdfd18-dc7d-4ca6-a698-4e01ba137752", 1],
    ["1.14.0.2", "3b01a06f-f924-4366-a4a9-93b4d47c9eb5", 1],
    ["1.14.0.3", "4451a98a-9393-4dd4-b3b0-a39f1e5187c4", 1],
    ["1.14.0.4", "17914518-ed69-4854-8810-4b2d3554db86", 1],
    ["1.14.0.9", "e67df0cc-2a09-44c1-ba77-c441c331dae0", 0],
    ["1.14.0.51", "0b3ea232-b51c-46c7-ab0a-aeaecd2fa8aa", 1],
    ["1.14.0.52", "d470d913-e6be-4c8f-93d4-2b61a98d8efa", 1],
    ["1.14.1.3", "e5547916-efd1-45b8-b6d2-3dfdc7510cbf", 1],
    ["1.14.1.5", "28e6e288-5296-42ed-b086-0a629a4f68aa", 0],
    ["1.14.2.50", "3e896ea1-99a0-4969-823b-3b6c574a7bcc", 1],
    ["1.14.2.51", "f7cfe4a1-f9ba-4104-85fd-b6426598de01", 1],
    ["1.14.20.1", "d807bbf1-c63a-4d67-a53a-cc7d78398ffc", 0],
    ["1.14.25.1", "5e8cc245-1d16-4176-8326-bec907c64705", 1],
    ["1.14.30.2", "d2785376-3c4b-4e7f-b903-9293180769e7", 0],
    ["1.14.30.51", "88094472-d550-4ff6-86ac-32701c4eb3e1", 1],
    ["1.14.60.5", "a7048ece-24fa-429a-8df4-dc19a7ca751d", 0],
    ["1.15.0.51", "38283a74-3311-4a49-bc4e-6550ea511e99", 1],
    ["1.15.0.53", "60334da6-1f55-40a4-a34b-f20cf654d889", 1],
    ["1.15.0.54", "1da5f729-2ede-4a62-ac13-33b142909cf5", 1],
    ["1.16.0.2", "8ecef46e-e8be-473c-bfe3-db35ef3c173d", 0],
    ["1.16.0.51", "ccdd414e-8ecb-48c0-a0bc-cc7d9ae050e3", 1],
    ["1.16.0.53", "fed93fc5-d026-49fc-a5b3-2fabaca0fd18", 1],
    ["1.16.0.55", "3f097757-b8e2-422a-bbc4-0de2d65fae22", 1],
    ["1.16.0.57", "e4085e2a-e74e-4091-a61d-86eff77a2335", 1],
    ["1.16.0.58", "45b1cdf6-2456-4660-b2f9-a6acb8893ee5", 1],
    ["1.16.0.59", "c65b287d-bd9f-47a7-bf7d-7948dbd43ad4", 1],
    ["1.16.0.60", "fcc2a65c-07e7-45c4-b66b-78a0ab673cbe", 1],
    ["1.16.0.68", "e005e0c6-e2f6-45a4-954d-f527e866a8fc", 1],
    ["1.16.1.2", "b76ea735-b1a3-4ffc-b4ca-f5ad67e9e45f", 0],
    ["1.16.10.2", "fa089b11-1468-428e-8762-8b7bc8adfc17", 0],
    ["1.16.20.3", "a3306a97-5e87-4a00-8327-5d44b27ead8b", 0],
    ["1.16.20.50", "337f2222-cddc-4a2c-99f8-2e7b944a8b62", 1],
    ["1.16.20.52", "8bca2ce7-a6cd-449d-8a83-6df41cda3c58", 1],
    ["1.16.20.53", "6a89153e-c43c-4716-a645-dcc2414a6b60", 1],
    ["1.16.20.54", "0466c7a7-9600-468a-aaa8-411aeb0b763d", 1],
    ["1.16.40.2", "49968828-1578-4f5a-b182-1455ec2b57d6", 0],
    ["1.16.100.4", "d8107807-40f7-4552-a78c-f410fe1ae1df", 0],
    ["1.16.100.50", "fb76b4d6-c62f-43b4-892f-46d327fe7040", 1],
    ["1.16.100.51", "3a2391c1-e5cc-4218-a321-620e997de0f4", 1],
    ["1.16.100.52", "d07c1071-bcd2-4078-8857-e5d7b609931a", 1],
    ["1.16.100.53", "58b91a25-6c24-47cc-b0b3-6fbc0cd8842a", 1],
    ["1.16.100.54", "f8947dd1-fda6-446d-8251-36867403c85c", 1],
    ["1.16.100.55", "288e8fd4-73c6-40d2-9df3-f53b56485185", 1],
    ["1.16.100.56", "5aacf097-4ac1-467a-8a51-e8b844b52cec", 1],
    ["1.16.100.57", "9ba3a7fd-0370-4410-abc7-74bc9704316f", 1],
    ["1.16.100.59", "f5a4f244-08ba-45f5-9081-c67488d95177", 1],
    ["1.16.100.60", "a5731b4a-195a-434f-9024-d9d843f87049", 1],
    ["1.16.200.2", "53cad706-4191-4289-8eee-c401a486ad1a", 0],
    ["1.16.200.51", "48cc1988-24bb-45b1-a00f-8d8d008b7998", 1],
    ["1.16.200.55", "06469736-4bf7-4030-a6cc-fb3d0ebebff1", 1],
    ["1.16.200.56", "3d5ce213-fac4-48ca-b810-fdd1cf726b76", 1],
    ["1.16.200.57", "fe912e0c-a2ad-455c-abd6-cbd2234da2b0", 1],
    ["1.16.201.2", "d252bd3c-7331-43cc-a67c-3e5519bdb792", 0],
    ["1.16.210.5", "8bc5ce35-7f7c-4980-8015-4041e3500abd", 0],
    ["1.16.210.50", "7f25ed67-6225-4203-8631-7f2c8bc034ac", 1],
    ["1.16.210.53", "1b280354-38bd-4d72-8cc0-d054c4ee3d39", 1],
    ["1.16.210.54", "6d5b0db4-52e7-421f-b9f9-8da8fe0f9d42", 1],
    ["1.16.210.55", "47720aa6-9654-4f3e-bb24-c74a479f3351", 1],
    ["1.16.210.56", "c325d7bf-7d42-4171-9f44-1f809117b7f1", 1],
    ["1.16.210.57", "d8938828-8fd2-425e-b2d3-a28a5d72c1a0", 1],
    ["1.16.210.58", "19a4227b-5af5-4331-8921-49c384bff13a", 1],
    ["1.16.210.59", "0750a709-e666-4cda-8762-a5edf7e5bedf", 1],
    ["1.16.210.60", "52e122b0-977f-486a-9b42-a053eead00aa", 1],
    ["1.16.220.2", "96d47f16-d0ad-453c-aa68-6f394f4c521b", 0],
    ["1.16.220.50", "cf26df75-c043-4f19-b96e-de741dc4c4bf", 1],
    ["1.16.220.51", "13afe26e-56a7-4ca9-bfde-e7e362c0fec2", 1],
    ["1.16.220.52", "c9a31802-83bd-4c72-829b-21bf9d58068b", 1],
    ["1.16.221.1", "bc9ded47-a0be-4bcd-a008-2f1c247a22ef", 0],
    ["1.16.230.50", "b946e005-5ea9-4d13-8a36-93d0ffa7d95a", 1],
    ["1.16.230.52", "7a0e602e-e437-4356-8378-c2ad2ababe49", 1],
    ["1.16.230.54", "69c75adb-d19f-4ca3-b79d-cf6d8df91004", 1],
    ["1.16.230.56", "db76bd0c-c9fd-4e5a-b2c4-eef157bd6164", 1],
    ["1.17.0.2", "24c14b31-634d-4dfc-a185-15878cee9dc6", 0],
    ["1.17.0.50", "d3e26204-aa23-4dfb-b007-741cbad2ca51", 1],
    ["1.17.0.52", "de07ae11-e05d-4bc5-b8e1-316863d4e4ca", 1],
    ["1.17.0.54", "83f1d4c1-8b7d-4582-b7d2-64464689d28e", 1],
    ["1.17.0.56", "264a3857-1be7-4048-8077-4522de47315e", 1],
    ["1.17.10.20", "7c09f339-af39-45bf-ad44-c1881e9cf3ff", 1],
    ["1.17.10.21", "b8d61194-14f4-45a8-8c1e-19da9d55e7a4", 1],
    ["1.17.10.22", "971f3059-6f5b-4d52-8b57-2e180433fffd", 1]
];

$num = count($be_versions);
$data = [];
$no = 0;
for($no=0;$no<$num;$no++){
    $marjor = explode(".",$be_versions[$num-$no-1][0]);
    $data[] = [
        "marjor" => $marjor[0].".".$marjor[1], // 主要版本
        "version" => $be_versions[$num-$no-1][0], // 版本号
        "beta" => (bool)($be_versions[$num-$no-1][2]), // 是否为测试版本
        "download" => null, // 下载链接
        "pe" => false, // 是否为MCPE,
        "protocol" => null, // 协议版本
    ];
}
/*foreach ($versions as $item){
    $data[$num-$no] = [
        "version" => $item[0],
        "beta" => boolval($item[1]),
    ];
    $no++;
}*/

if(isset($argv[1])){
    if($argv[1] == "build"){
        $json = fopen(__DIR__ . "/public/data.json", "w");
        fwrite($json,json_encode($data));
        echo "Finish (".Runtime::end().")";
    }
}else{
    echo json_encode($data);
}
